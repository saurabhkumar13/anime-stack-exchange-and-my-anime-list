<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Introduction | Nearest Neighbour Recommendations</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../anime-recommendations/preprocessing.html" />
    
    
    <link rel="prev" href="../anime-recommendations/README.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="1.1" data-basepath=".." data-revision="1499423496695">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="1" data-path="anime-recommendations/README.html">
            
                
                    <a href="../anime-recommendations/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Anime Recommendations
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter active" data-level="1.1" data-path="anime-recommendations/README.html">
            
                
                    <a href="../anime-recommendations/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="anime-recommendations/preprocessing.html">
            
                
                    <a href="../anime-recommendations/preprocessing.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Preprocessing
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="anime-recommendations/a_simple_recommendation_sytem.html">
            
                
                    <a href="../anime-recommendations/a_simple_recommendation_sytem.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         A simple recommendation sytem
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="anime-recommendations/naruto_recommendations.html">
            
                
                    <a href="../anime-recommendations/naruto_recommendations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Naruto Recommendations
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.5" data-path="anime-recommendations/kimi_no_na_wa_recommendations.html">
            
                
                    <a href="../anime-recommendations/kimi_no_na_wa_recommendations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                         Kimi no Na Wa Recommendations
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.6" data-path="anime-recommendations/gintama_recommendations.html">
            
                
                    <a href="../anime-recommendations/gintama_recommendations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                         Gintama Recommendations
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.7" data-path="anime-recommendations/improvements.html">
            
                
                    <a href="../anime-recommendations/improvements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                         Improvements
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.8" data-path="anime-recommendations/gintama_recommendations_ii.html">
            
                
                    <a href="../anime-recommendations/gintama_recommendations_ii.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                         Gintama Recommendations II
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.9" data-path="anime-recommendations/conclusion.html">
            
                
                    <a href="../anime-recommendations/conclusion.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.9.</b>
                        
                         Conclusion
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.10" data-path="anime-recommendations/further_work.html">
            
                
                    <a href="../anime-recommendations/further_work.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.10.</b>
                        
                         Further Work
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="clustering_anime/README.html">
            
                
                    <a href="../clustering_anime/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Clustering anime
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="clustering_anime/k-means++.html">
            
                
                    <a href="../clustering_anime/k-means++.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         k-means++
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="outliers/README.html">
            
                
                    <a href="../outliers/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Outliers
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="ann_regressor_and_classifier/README">
            
                
                    <a href="../ann_regressor_and_classifier/README">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         ANN regressor and classifier
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="ann_regressor_and_classifier/ann_regressor.html">
            
                
                    <a href="../ann_regressor_and_classifier/ann_regressor.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         ANN regressor
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="ann_regressor_and_classifier/ann_classifier.html">
            
                
                    <a href="../ann_regressor_and_classifier/ann_classifier.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         ANN classifier
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Nearest Neighbour Recommendations</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_7287">
                    
                        <h1 id="nearest-neighbour-recommendations">Nearest Neighbour Recommendations</h1>
<p>Using the My Anime List (MAL) database, we would like to design a recommendation system which queries a list of top 10 recommendations based on a certain anime the user likes.</p>
<p>We&#39;ll start with a simple design then start tweaking it to get more interesting results.</p>
<p>I&#39;ll present how to work with the data, assuming it is already in the below format, <code>d</code> being the number of attributes.</p>
<table>
<thead>
<tr>
<th>columnName</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID</td>
<td>INT</td>
</tr>
<tr>
<td>c1</td>
<td>FLOAT</td>
</tr>
<tr>
<td>c2</td>
<td>FLOAT</td>
</tr>
<tr>
<td>...</td>
<td>FLOAT</td>
</tr>
<tr>
<td>c<code>d</code></td>
<td>FLOAT</td>
</tr>
</tbody>
</table>
<p>Using a pattern for column names allows us to do some things programmatically which would have been troublesome otherwise.</p>
<p>We would use three tables.</p>
<ol>
<li><code>MAL_ANIME</code> : The original table with raw values.</li>
<li><code>MAL_X_NORM</code> : This table will contain normalized values for each attribute.</li>
<li><code>MAL_X_COO</code> : This table will contain the data in Coordinate Format (COO).</li>
</ol>
<p>DDL for MAL_ANIME</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> MAL_ANIME
(
    ANIME_ID <span class="hljs-built_in">NUMBER</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>
        <span class="hljs-keyword">primary</span> <span class="hljs-keyword">key</span>,
    NAME VARCHAR2(<span class="hljs-number">200</span>),
    GENRE VARCHAR2(<span class="hljs-number">500</span>),
    TYPE VARCHAR2(<span class="hljs-number">100</span>),
    EPISODE <span class="hljs-built_in">NUMBER</span>,
    RATING <span class="hljs-built_in">FLOAT</span>,
    MEMBERS <span class="hljs-built_in">NUMBER</span>
)</span>
</code></pre>
<blockquote>
<p>some random records:</p>
</blockquote>
<table>
<thead>
<tr>
<th>ANIME_ID</th>
<th>NAME</th>
<th>GENRE</th>
<th>TYPE</th>
<th>EPISODE</th>
<th>RATING</th>
<th>MEMBERS</th>
</tr>
</thead>
<tbody>
<tr>
<td>186</td>
<td>Initial D Second Stage</td>
<td>Action, Cars, Drama, Seinen, Sports</td>
<td>TV</td>
<td>13</td>
<td>8.12</td>
<td>45825</td>
</tr>
<tr>
<td>10080</td>
<td>Kami nomi zo Shiru Sekai II</td>
<td>Comedy, Harem, Romance, Shounen, Supernatural</td>
<td>TV</td>
<td>12</td>
<td>8.12</td>
<td>194300</td>
</tr>
<tr>
<td>30885</td>
<td>Noragami Aragoto OVA</td>
<td>Action, Adventure, Shounen</td>
<td>OVA</td>
<td>2</td>
<td>8.12</td>
<td>58075</td>
</tr>
<tr>
<td>21469</td>
<td>Stand By Me Doraemon</td>
<td>Comedy, Kids, Sci-Fi, Shounen</td>
<td>Movie</td>
<td>1</td>
<td>8.12</td>
<td>5712</td>
</tr>
<tr>
<td>9941</td>
<td>Tiger &amp; Bunny</td>
<td>Action, Comedy, Mystery, Super Power</td>
<td>TV</td>
<td>25</td>
<td>8.12</td>
<td>104075</td>
</tr>
</tbody>
</table>
<p>DDL (shortened) for MAL_X_NORM</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> MAL_X_NORM
(
    ID <span class="hljs-built_in">NUMBER</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span>,
    C1 <span class="hljs-built_in">FLOAT</span>,
    C2 <span class="hljs-built_in">FLOAT</span>,
    C2 <span class="hljs-built_in">FLOAT</span>,
    ...
    C51 <span class="hljs-built_in">FLOAT</span>,
    C52 <span class="hljs-built_in">FLOAT</span>
)</span>
</code></pre>
<p>DDL for MAL_X_COO</p>
<pre><code class="lang-sql"><span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> MAL_X_COO
(
    ID <span class="hljs-built_in">NUMBER</span>,
    ATT <span class="hljs-built_in">NUMBER</span>,
    <span class="hljs-keyword">DATA</span> <span class="hljs-built_in">FLOAT</span>
)</span>
</code></pre>
<blockquote>
<p>Just some points to note at this point</p>
</blockquote>
<ul>
<li>We have a total of 43 <code>GENRE</code> types. They were descritized to get 43 different attributes with values 1 for present and 0 for not.</li>
<li>Same was done for <code>TYPE</code> to get 6 more attributes.</li>
<li>Rest are numeric types, they were taken as is, i.e. 3 more attributes</li>
<li>This gets us to the 52 attributes we are currently using</li>
<li>You would have realized that we are not using <code>name</code> in our feature vector at all.<ul>
<li>This is partially due to my personal bias that Anime names are mostly random and have a very little relation to the actual content/ feel of the anime and including them would only pollute our feature space.<ul>
<li>Naruto (a type of fishcake)</li>
<li>Bleach (hair bleach)</li>
<li>Gintama (silver soul)</li>
<li>Ore, Twintail ni Narimasu (Gonna be the Twin-Tail)</li>
</ul>
</li>
<li>Although if we wanted we could always use a bag of words model to directly use the names as feature.</li>
<li>Or a good approach could be to use the sentiment of the name as a feature, like certain anime names give a strong, exciting feel (Shingeki no Kyojin, Shingeki no Bahamut, Nanatsu no Taizai) others very laid-back and chill feel (Nichijou, Himouto! Umaru-chan) but this still would be very redundant since the <code>genre</code> gives this information very clearly.</li>
</ul>
</li>
<li>We can also have the ID as a feature since it very closely related to the release date of the Anime, id increments as the anime are added to the database and anime are added to the database as they are released.</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../anime-recommendations/README.html" class="navigation navigation-prev " aria-label="Previous page: Anime Recommendations"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../anime-recommendations/preprocessing.html" class="navigation navigation-next " aria-label="Next page: Preprocessing"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
